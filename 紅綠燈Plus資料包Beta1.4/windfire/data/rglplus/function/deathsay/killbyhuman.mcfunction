execute if entity @a[team=ghost,advancements={rglplus:death/killbyhuman=true},scores={deathdetect=1..}] as @a[team=human,gamemode=adventure,scores={killdetect=1..}] run tag @s add killghost

execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2,rglplusmode=1,rglpluskidsword=1..}] run tellraw @a ["",{"text":"紅綠燈： ","color":"white"},{"text":"鬼","color":"dark_aqua"},{"selector":"@s","bold":true},{"text":"被壞孩子","color":"dark_aqua"},{"selector":"@a[tag=killghost]","bold":true},{"text":"反殺","color":"dark_aqua"}]
execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2,rglplusmode=3..4,rglpluskidsword=1..}] run tellraw @a ["",{"text":"紅綠燈： ","color":"white"},{"text":"鬼","color":"dark_aqua"},{"selector":"@s","bold":true},{"text":"被壞孩子","color":"dark_aqua"},{"selector":"@a[tag=killghost]","bold":true},{"text":"反殺","color":"dark_aqua"}]
execute if entity @s[tag=!pathogen,tag=little] if entity @e[tag=rglplus,tag=core,scores={playgame=1..2,rglplusmode=2,rglpluskidsword=1..}] run tellraw @a ["",{"text":"紅綠燈： ","color":"white"},{"text":"病小鬼","color":"dark_aqua"},{"selector":"@s","bold":true},{"text":"被壞孩子","color":"dark_aqua"},{"selector":"@a[tag=killghost]","bold":true},{"text":"反殺","color":"dark_aqua"}]
execute if entity @s[tag=pathogen] if entity @e[tag=rglplus,tag=core,scores={playgame=1..2,rglplusmode=2,rglpluskidsword=1..}] run tellraw @a ["",{"text":"紅綠燈： ","color":"white"},{"text":"鬼王","color":"dark_aqua"},{"selector":"@s","bold":true},{"text":"被壞孩子","color":"dark_aqua"},{"selector":"@a[tag=killghost]","bold":true},{"text":"反殺","color":"dark_aqua"}]
execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2}] run scoreboard players remove @a[tag=killghost,scores={killdetect=1..}] killdetect 1
execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2}] run tag @a[tag=killghost] remove killghost
execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2,rglpluskidsword=1..}] run advancement revoke @s only rglplus:death/killbyhuman
