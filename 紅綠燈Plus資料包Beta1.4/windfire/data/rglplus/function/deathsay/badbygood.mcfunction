execute if entity @e[limit=1,type=armor_stand,tag=rglplus,tag=core,scores={playgame=2,rglplusghostprop=1,greener=1..}] run function rglplus:start/game/ghostprop
execute if entity @e[limit=1,type=armor_stand,tag=rglplus,tag=core,scores={playgame=2,rglpluskidsword=1..,greener=1..}] run function rglplus:start/game/ghostprop
execute if entity @e[limit=1,type=armor_stand,tag=rglplus,tag=core,predicate=rglplus:props/say] run function rglplus:start/game/ghostpropsay

execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2,rglplusmode=1}] unless score 7-0-7-0-000700000007 rglplusweapon matches 8..9 as @s run tellraw @a ["",{"text":"紅綠燈： ","color":"white"},{"selector":"@s","bold":true},{"text":"被鬼","color":"aqua"},{"selector":"@a[team=ghost,gamemode=adventure,scores={killdetect=1..}]","bold":true},{"text":"抓到了","color":"aqua"}]
execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2,rglplusmode=3..4}] unless score 7-0-7-0-000700000007 rglplusweapon matches 8..9 as @s run tellraw @a ["",{"text":"紅綠燈： ","color":"white"},{"selector":"@s","bold":true},{"text":"被鬼","color":"aqua"},{"selector":"@a[team=ghost,gamemode=adventure,scores={killdetect=1..}]","bold":true},{"text":"抓到了","color":"aqua"}]
execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2,rglplusmode=2}] unless score 7-0-7-0-000700000007 rglplusweapon matches 8..9 as @s run tellraw @a ["",{"text":"紅綠燈： ","color":"white"},{"selector":"@s","bold":true},{"text":"被鬼","color":"aqua"},{"selector":"@a[team=ghost,gamemode=adventure,scores={killdetect=1..}]","bold":true},{"text":"感染而成為新的病原","color":"aqua"}]
execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2,rglplusweapon=8..9,rglplusmode=1}] as @s[tag=!expdeath,advancements={rglplus:death/byexpdamage2=false}] run tellraw @a ["",{"text":"紅綠燈： ","color":"white"},{"selector":"@s","bold":true},{"text":"被鬼","color":"aqua"},{"selector":"@a[team=ghost,gamemode=adventure,scores={killdetect=1..}]","bold":true},{"text":"抓到了","color":"aqua"}]
execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2,rglplusweapon=8..9,rglplusmode=3..4}] as @s[tag=!expdeath,advancements={rglplus:death/byexpdamage2=false}] run tellraw @a ["",{"text":"紅綠燈： ","color":"white"},{"selector":"@s","bold":true},{"text":"被鬼","color":"aqua"},{"selector":"@a[team=ghost,gamemode=adventure,scores={killdetect=1..}]","bold":true},{"text":"抓到了","color":"aqua"}]
execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2,rglplusweapon=8..9,rglplusmode=2}] as @s[tag=!expdeath,advancements={rglplus:death/byexpdamage2=false}] run tellraw @a ["",{"text":"紅綠燈： ","color":"white"},{"selector":"@s","bold":true},{"text":"被鬼","color":"aqua"},{"selector":"@a[team=ghost,gamemode=adventure,scores={killdetect=1..}]","bold":true},{"text":"感染而成為新的病原","color":"aqua"}]

execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2,rglplusweapon=8..9}] run tag @a remove expdeath
execute if entity @e[tag=rglplus,tag=core,scores={playgame=2,rglplusmode=1..2,rglplusaddtime=1..3,greener=2..}] as @s run function rglplus:start/game/addtime
execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2}] run scoreboard players remove @a[scores={killdetect=1..}] killdetect 1
execute if entity @e[tag=rglplus,tag=core,scores={playgame=1..2}] run advancement revoke @s only rglplus:death/badbygood
