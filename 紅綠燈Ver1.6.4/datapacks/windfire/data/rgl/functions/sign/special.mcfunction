execute if entity @e[tag=core] run fill 112 53 108 112 54 108 air
execute if entity @e[tag=core,scores={rglspecial=0}] run setblock 112 53 108 minecraft:oak_wall_sign[facing=east]{Text1:'["",{"text":"遊戲變體規則: ","color":"black","bold":"true"},{"score":{"name":"@e[tag=core,limit=1]","objective":"rglspecial"},"color":"black","bold":"false"}]',Text2:'{"text":"沒有","color":"green","bold":"false"}',Text3:'{"text":"","clickEvent":{"action":"run_command","value":"scoreboard players add @e[tag=core] rglspecial 1"}}',Text4:'{"text":"點我切換","color":"black","clickEvent":{"action":"run_command","value":"function rgl:sign/special"}}'}
execute if entity @e[tag=core,scores={rglspecial=1}] run setblock 112 53 108 minecraft:oak_wall_sign[facing=east]{Text1:'["",{"text":"遊戲變體規則: ","color":"black","bold":"true"},{"score":{"name":"@e[tag=core,limit=1]","objective":"rglspecial"},"color":"black","bold":"false"}]',Text2:'{"text":"全體規則","color":"green","bold":"true"}',Text3:'{"text":"","clickEvent":{"action":"run_command","value":"scoreboard players set @e[tag=core] rglspecial 2"}}',Text4:'{"text":"點我切換","color":"black","clickEvent":{"action":"run_command","value":"function rgl:sign/special"}}'}

execute if entity @e[tag=core,scores={rglspecial=2}] run setblock 112 53 108 minecraft:oak_wall_sign[facing=east]{Text1:'["",{"text":"遊戲變體規則: ","color":"black","bold":"true"},{"score":{"name":"@e[tag=core,limit=1]","objective":"rglspecial"},"color":"black","bold":"false"}]',Text2:'{"text":"牆壁規則","color":"green","bold":"true"}',Text3:'{"text":"","clickEvent":{"action":"run_command","value":"scoreboard players set @e[tag=core] rglspecial 3"}}',Text4:'{"text":"點我切換","color":"black","clickEvent":{"action":"run_command","value":"function rgl:sign/special"}}'}
execute if entity @e[tag=core,scores={rglspecial=3}] run setblock 112 53 108 minecraft:oak_wall_sign[facing=east]{Text1:'["",{"text":"遊戲變體規則: ","color":"black","bold":"true"},{"score":{"name":"@e[tag=core,limit=1]","objective":"rglspecial"},"color":"black","bold":"false"}]',Text2:'{"text":"反殺規則","color":"green","bold":"true"}',Text3:'{"text":"","clickEvent":{"action":"run_command","value":"scoreboard players set @e[tag=core] rglspecial 0"}}',Text4:'{"text":"點我切換","color":"black","clickEvent":{"action":"run_command","value":"function rgl:sign/special"}}'}

execute if entity @e[tag=core,scores={rglspecial=0}] run tellraw @a ["",{"text":"\n沒有變體規則 ： ","bold":false,"color":"white"},{"text":"此規則下無任何改變","color":"white"}]
execute if entity @e[tag=core,scores={rglspecial=1}] run tellraw @a ["",{"text":"\n全體規則 ： ","bold":true,"color":"gold"},{"text":"\n此規則下把個人機制都歸屬於全體承擔或共享","color":"white"},{"text":"\n使用紅燈次數變成全體相同","bold":"true","color":"red"},{"text":"\n紅燈死亡倒數變成跟隨第1個倒數的紅燈者(適用於模式2、3)","bold":"true","color":"red"},{"text":"\n壞孩子拯救１個紅燈就等同拯救全部紅燈孩子\n靠近鬼的任務沒完成為全部綠燈孩子死亡","color":"green"}]

execute if entity @e[tag=core,scores={rglspecial=2}] run tellraw @a ["",{"text":"\n牆壁規則 ： ","bold":true,"color":"gold"},{"text":"\n此規則下沒有紅燈道具","color":"white"},{"text":"改成觸碰牆壁才能暫停","bold":"true","color":"red"},{"text":"\n觸碰牆壁定義為玩家的視線碰到方塊的0.45格內\n而且包括頭頂的方塊(視線往上看)","bold":"true","color":"red"},{"text":"\n牆壁不包括:可操作的方塊(門)、可攀爬的方塊(梯子/藤蔓)、\n可穿透的方塊(花草/旗幟)、透明的方塊(玻璃)","color":"white"},{"text":"\n不小心碰到方塊可能就紅燈\n沒有要做事就用白燈切換成不偵測牆壁","bold":"true","color":"white"},{"text":"\n給予「白燈」:丟出後切換是否要觸碰牆壁直接紅燈","bold":"true","color":"red"}]

execute if entity @e[tag=core,scores={rglspecial=3}] run tellraw @a ["",{"text":"\n反殺規則 ： ","bold":true,"color":"gold"},{"text":"\n此規則下壞孩子也有武器","color":"white"},{"text":"\n根據模式不同調整武器傷害","color":"white"},{"text":"\n若是反殺所有鬼, 則孩子獲勝","bold":"true","color":"green"},{"text":"\n但是鬼每殺1個孩子","bold":"true","color":"red"},{"text":"\n就能獲得隨機道具","bold":"true","color":"red"},{"text":"\n(包含發光、加速、無敵等)","color":"white"}]

function rgl:sign/detail/used
#execute if entity @e[tag=core,scores={rglspecial=3}] run function rgl:sign/detail/setstick
#execute if entity @e[tag=core,scores={rglspecial=3}] run function rgl:sign/detail/stickatt
execute if entity @e[tag=core,scores={rglmode=6}] run function rgl:sign/detail/give
execute if entity @e[tag=core,scores={rglmode=9}] run function rgl:sign/detail/newghost
execute if entity @e[tag=core,scores={rglspecial=2..3}] run function rgl:sign/other/keepwhite
