execute if entity @a[team=bad,advancements={rgl:death/badbygood=true},scores={deathdetect=1..}] as @a[team=good,gamemode=adventure,scores={killdetect=1..}] run tag @s add killbad

execute if entity @e[tag=core,scores={rglspecial=3}] run scoreboard players operation @a[tag=killbad] randomfor = @e[tag=random03,limit=1,sort=random] random10
#蜂蜜塊緩速/螢光墨囊發光/藍冰加速/火藥秒殺/黑曜石無敵
execute if entity @e[tag=core,scores={rglspecial=3}] run scoreboard players add @a[tag=killbad] propscount 1
execute if entity @e[tag=core,scores={rglspecial=3}] as @a[tag=killbad,scores={randomfor=0,propscount=1}] run item replace entity @s hotbar.8 with honey_block{display:{Name:'[{"text":"緩速道具","italic":false,"color":"gold","bold":true}]',Lore:['[{"text":"讓全部的壞孩子15秒緩速II","italic":false,"color":"yellow"}]','[{"text":"將它丟出即可發動","italic":false,"color":"white"}]','[{"text":"","italic":false,"color":"white"}]','[{"text":"藉由殺孩子隨機獲得","italic":false,"color":"white"}]']}}
execute if entity @e[tag=core,scores={rglspecial=3}] as @a[tag=killbad,scores={randomfor=1,propscount=1}] run item replace entity @s hotbar.8 with glow_ink_sac{display:{Name:'[{"text":"發光道具","italic":false,"color":"gold","bold":true}]',Lore:['[{"text":"讓全部的壞孩子15秒發光","italic":false,"color":"yellow"}]','[{"text":"將它丟出即可發動","italic":false,"color":"white"}]','[{"text":"","italic":false,"color":"white"}]','[{"text":"藉由殺孩子隨機獲得","italic":false,"color":"white"}]']}}
execute if entity @e[tag=core,scores={rglspecial=3}] as @a[tag=killbad,scores={randomfor=2,propscount=1}] run item replace entity @s hotbar.8 with blue_ice{display:{Name:'[{"text":"加速道具","italic":false,"color":"gold","bold":true}]',Lore:['[{"text":"讓自身7秒加速III","italic":false,"color":"yellow"}]','[{"text":"將它丟出即可發動","italic":false,"color":"white"}]','[{"text":"","italic":false,"color":"white"}]','[{"text":"藉由殺孩子隨機獲得","italic":false,"color":"white"}]']}}
execute if entity @e[tag=core,scores={rglspecial=3}] as @a[tag=killbad,scores={randomfor=3,propscount=1}] run item replace entity @s hotbar.8 with gunpowder{display:{Name:'[{"text":"秒殺道具","italic":false,"color":"gold","bold":true}]',Lore:['[{"text":"讓自身5秒內能夠秒殺孩子","italic":false,"color":"yellow"}]','[{"text":"將它丟出即可發動","italic":false,"color":"white"}]','[{"text":"","italic":false,"color":"white"}]','[{"text":"藉由殺孩子隨機獲得","italic":false,"color":"white"}]']}}
execute if entity @e[tag=core,scores={rglspecial=3}] as @a[tag=killbad,scores={randomfor=4,propscount=1}] run item replace entity @s hotbar.8 with obsidian{display:{Name:'[{"text":"無敵道具","italic":false,"color":"gold","bold":true}]',Lore:['[{"text":"讓全部的鬼10秒無敵","italic":false,"color":"yellow"}]','[{"text":"將它丟出即可發動","italic":false,"color":"white"}]','[{"text":"","italic":false,"color":"white"}]','[{"text":"藉由殺孩子隨機獲得","italic":false,"color":"white"}]']}}
#+1
execute if entity @e[tag=core,scores={rglspecial=3}] as @a[tag=killbad,scores={randomfor=0..4,propscount=2}] run item replace entity @s inventory.26 with torch{display:{Name:'[{"text":"道具之火","italic":false,"color":"gold","bold":true}]',Lore:['[{"text":"當道具格有其他道具時,會將得到的道具先轉成道具之火","italic":false,"color":"yellow"}]','[{"text":"若道具格的道具被使用,會將自身自動轉為道具","italic":false,"color":"yellow"}]','[{"text":"無法被丟出","italic":false,"color":"white"}]','[{"text":"","italic":false,"color":"white"}]','[{"text":"若有2個以上的道具未使用時,自動獲得","italic":false,"color":"white"}]']}} 1
execute if entity @e[tag=core,scores={rglspecial=3}] as @a[tag=killbad,scores={randomfor=0..4,propscount=3..}] run give @s torch{display:{Name:'[{"text":"道具之火","italic":false,"color":"gold","bold":true}]',Lore:['[{"text":"當道具格有其他道具時,會將得到的道具先轉成道具之火","italic":false,"color":"yellow"}]','[{"text":"若道具格的道具被使用,會將自身自動轉為道具","italic":false,"color":"yellow"}]','[{"text":"無法被丟出","italic":false,"color":"white"}]','[{"text":"","italic":false,"color":"white"}]','[{"text":"若有2個以上的道具未使用時,自動獲得","italic":false,"color":"white"}]']}} 1

#ghostbeffect
execute if entity @e[tag=core,scores={rgleffect=11}] run function rgl:props/ifeffect

scoreboard players remove @a[tag=killbad] killdetect 1
tag @a[tag=killbad] remove killbad
function rgl:other/getlaster
execute if entity @e[tag=core,scores={gameend=1..}] run advancement revoke @a[advancements={rgl:death/badbygood=true}] only rgl:death/badbygood
#minecraft:lime_concrete_powder{display:{Name:'[{"text":"綠燈行","italic":false,"color":"dark_green","bold":true}]',Lore:['[{"text":"讓紅燈狀態的隊友可以行動","italic":false,"color":"green"}]','[{"text":"(只會救三格內且最近的隊友)","italic":false,"color":"green"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"將它丟出即可發動","italic":false,"color":"white"}]']}}
